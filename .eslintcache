[{"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\App.tsx":"1","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Admin\\index.tsx":"2","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\layouts\\Main.tsx":"3","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\components\\UploadFile.tsx":"4","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\user\\index.ts":"5","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\user\\thunkActions.ts":"6","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\auth\\Login.tsx":"7","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\Body.tsx":"8","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\Side.tsx":"9","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\index.tsx":"10","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\Message.tsx":"11","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\routes\\Hoc.tsx":"12","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\utils\\index.ts":"13","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\core\\index.ts":"14","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\core\\thunkActions.ts":"15","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\index.ts":"16","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\404.tsx":"17","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\auth\\Signup.tsx":"18","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\components\\FieldWithValidation.tsx":"19","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\layouts\\Auth.tsx":"20"},{"size":1046,"mtime":1622037401832,"results":"21","hashOfConfig":"22"},{"size":398,"mtime":1607874808378,"results":"23","hashOfConfig":"22"},{"size":4203,"mtime":1622014719154,"results":"24","hashOfConfig":"22"},{"size":2905,"mtime":1622015445649,"results":"25","hashOfConfig":"22"},{"size":769,"mtime":1622037247962,"results":"26","hashOfConfig":"22"},{"size":1435,"mtime":1622037056329,"results":"27","hashOfConfig":"22"},{"size":3410,"mtime":1622038399516,"results":"28","hashOfConfig":"22"},{"size":7296,"mtime":1623591444596,"results":"29","hashOfConfig":"22"},{"size":5479,"mtime":1623592443343,"results":"30","hashOfConfig":"22"},{"size":6046,"mtime":1623592282018,"results":"31","hashOfConfig":"22"},{"size":1536,"mtime":1622015044761,"results":"32","hashOfConfig":"22"},{"size":846,"mtime":1622015174307,"results":"33","hashOfConfig":"22"},{"size":902,"mtime":1622015474167,"results":"34","hashOfConfig":"22"},{"size":499,"mtime":1622037255022,"results":"35","hashOfConfig":"22"},{"size":423,"mtime":1622038412770,"results":"36","hashOfConfig":"22"},{"size":1092,"mtime":1622038104319,"results":"37","hashOfConfig":"22"},{"size":227,"mtime":1606988631945,"results":"38","hashOfConfig":"22"},{"size":5319,"mtime":1607175419075,"results":"39","hashOfConfig":"22"},{"size":657,"mtime":1607356997418,"results":"40","hashOfConfig":"22"},{"size":236,"mtime":1606990551717,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"np60tu",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\App.tsx",[],["86","87"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Admin\\index.tsx",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\layouts\\Main.tsx",[],["88","89"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\components\\UploadFile.tsx",["90","91","92","93"],"import React, { useMemo, useState } from 'react';\r\nimport { Modal, Upload } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\n\r\nimport { RcCustomRequestOptions } from 'antd/lib/upload/interface';\r\nimport { IUpload } from 'types';\r\nimport { useTypedSelector } from 'store';\r\n\r\ntype Props = {\r\n  isVisible: boolean;\r\n  onClose: () => void;\r\n  onOk: (uploads: IUpload[]) => void;\r\n};\r\n\r\nconst UploadFile: React.FC<Props> = ({ isVisible, onClose, onOk }) => {\r\n  const token = useTypedSelector((state) => state.user.token);\r\n\r\n  const [uploads, setUploads] = useState<IUpload[]>([]);\r\n\r\n  const photos = useMemo(() => {\r\n    return uploads.map((photo) => ({\r\n      uid: photo._id,\r\n      name: photo.filename,\r\n      size: 50,\r\n      type: photo.mimetype as string,\r\n      url: photo.path,\r\n    }));\r\n  }, [uploads]);\r\n\r\n  const uploadFile = async (fileInfo: RcCustomRequestOptions) => {\r\n    console.log('args', fileInfo);\r\n\r\n    const file = fileInfo.file;\r\n    const data = new FormData();\r\n    data.append('file', file);\r\n\r\n    var reader = new FileReader();\r\n\r\n    //Read the contents of Image File.\r\n    reader.readAsDataURL(file);\r\n\r\n    reader.onload = function (e) {\r\n      //Initiate the JavaScript Image object.\r\n      var image = new Image();\r\n\r\n      //Set the Base64 string return from FileReader as source.\r\n      image.src = e.target!.result as string;\r\n\r\n      //Validate the File Height and Width.\r\n      image.onload = function () {\r\n        // @ts-ignore\r\n        var height = this.height;\r\n        // @ts-ignore\r\n        var width = this.width;\r\n        console.log('height withd', width, height);\r\n      };\r\n    };\r\n\r\n    try {\r\n      const response = (\r\n        await axios({\r\n          method: 'post',\r\n          url: process.env.REACT_APP_FILE_URL,\r\n          data,\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n      ).data[0];\r\n\r\n      setUploads((v) => [...v, response]);\r\n      console.log('resp', response);\r\n    } catch (e) {\r\n      console.error('error in uploading', e);\r\n    }\r\n  };\r\n\r\n  const onCloseModal = () => {\r\n    setUploads([]);\r\n    onClose();\r\n  };\r\n\r\n  const onSendPhoto = () => {\r\n    setUploads([]);\r\n    onOk(uploads);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      onCancel={onCloseModal}\r\n      onOk={() => onSendPhoto()}\r\n      okText=\"Отправить\"\r\n      cancelText=\"Отменить\"\r\n      centered\r\n      destroyOnClose\r\n    >\r\n      <Upload\r\n        customRequest={uploadFile}\r\n        listType=\"picture-card\"\r\n        fileList={photos}\r\n        onChange={(arg) => console.log('file', arg)}\r\n      >\r\n        {uploads.length >= 4 ? null : (\r\n          <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Загрузить</div>\r\n          </div>\r\n        )}\r\n      </Upload>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default UploadFile;\r\n","M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\user\\index.ts",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\user\\thunkActions.ts",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\auth\\Login.tsx",["94"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\Body.tsx",["95","96","97"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\Side.tsx",["98"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\index.tsx",["99","100","101","102","103","104","105"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\Chat\\Message.tsx",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\routes\\Hoc.tsx",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\utils\\index.ts",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\core\\index.ts",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\core\\thunkActions.ts",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\store\\index.ts",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\404.tsx",[],["106","107"],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\pages\\auth\\Signup.tsx",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\components\\FieldWithValidation.tsx",[],"M:\\Media Files\\Other\\course-project-4\\code\\callmaster-frontend\\src\\layouts\\Auth.tsx",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"108","replacedBy":"112"},{"ruleId":"110","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":32,"column":5,"nodeType":"116","messageId":"117","endLine":32,"endColumn":16},{"ruleId":"114","severity":1,"message":"115","line":56,"column":9,"nodeType":"116","messageId":"117","endLine":56,"endColumn":20},{"ruleId":"114","severity":1,"message":"115","line":71,"column":7,"nodeType":"116","messageId":"117","endLine":71,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":101,"column":28,"nodeType":"116","messageId":"117","endLine":101,"endColumn":39},{"ruleId":"118","severity":1,"message":"119","line":37,"column":6,"nodeType":"120","endLine":37,"endColumn":8,"suggestions":"121"},{"ruleId":"122","severity":1,"message":"123","line":25,"column":58,"nodeType":"124","messageId":"125","endLine":25,"endColumn":70},{"ruleId":"114","severity":1,"message":"115","line":119,"column":7,"nodeType":"116","messageId":"117","endLine":119,"endColumn":18},{"ruleId":"118","severity":1,"message":"126","line":129,"column":6,"nodeType":"120","endLine":129,"endColumn":28,"suggestions":"127"},{"ruleId":"114","severity":1,"message":"115","line":91,"column":7,"nodeType":"116","messageId":"117","endLine":91,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":62,"column":7,"nodeType":"116","messageId":"117","endLine":62,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":71,"column":7,"nodeType":"116","messageId":"117","endLine":71,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":107,"column":7,"nodeType":"116","messageId":"117","endLine":107,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":134,"column":9,"nodeType":"116","messageId":"117","endLine":134,"endColumn":20},{"ruleId":"118","severity":1,"message":"128","line":149,"column":6,"nodeType":"120","endLine":149,"endColumn":14,"suggestions":"129"},{"ruleId":"114","severity":1,"message":"115","line":153,"column":7,"nodeType":"116","messageId":"117","endLine":153,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":157,"column":7,"nodeType":"116","messageId":"117","endLine":157,"endColumn":18},{"ruleId":"108","replacedBy":"130"},{"ruleId":"110","replacedBy":"131"},"no-native-reassign",["132"],"no-negated-in-lhs",["133"],["132"],["133"],"no-console","Unexpected console statement.","MemberExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'isAuth'. Either include them or remove the dependency array.","ArrayExpression",["134"],"no-unused-vars","'isCallActive' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'user._id'. Either include it or remove the dependency array.",["135"],"React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.",["136"],["132"],["133"],"no-global-assign","no-unsafe-negation",{"desc":"137","fix":"138"},{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},"Update the dependencies array to be: [history, isAuth]",{"range":"143","text":"144"},"Update the dependencies array to be: [messages, activeChat, user._id]",{"range":"145","text":"146"},"Update the dependencies array to be: [search, user]",{"range":"147","text":"148"},[1087,1089],"[history, isAuth]",[3859,3881],"[messages, activeChat, user._id]",[4496,4504],"[search, user]"]